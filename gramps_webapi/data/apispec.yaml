swagger: "2.0"
info:
  description: This Gramps web API (https://github.com/gramps-project/web-api) allows to access family tree databases generated by the Gramps software (https://gramps-project.org/).
  version: "0.0.1"
  title: Gramps Web API
  license:
    name: GNU GPL v2.0
basePath: /api
tags:
- name: person
  description: Access to person objects
paths:
  /person:
    get:
      tags:
      - person
      summary: Get multiple persons
      produces:
      - application/json
      responses:
        200:
          description: successful operation
          schema:
            type: array
            items:
              $ref: "#/definitions/Person"
  /person/{grampsId}:
    get:
      tags:
      - person
      summary: Get person by Gramps ID
      produces:
      - application/json
      parameters:
      - name: grampsId
        in: path
        description: Gramps ID
        required: true
        type: string
        default: available
      responses:
        200:
          description: successful operation
          schema:
            $ref: "#/definitions/Person"
        400:
          description: invalid ID supplied
        404:
          description: person not found
definitions:
  Person:
    type: object
    required:
    - gramps_id
    properties:
      gramps_id:
        type: string
        example: I0001
      name_given:
        type: string
        example: Johann Sebastian
      name_surname:
        type: string
        example: Bach
      gender:
        type: integer
        example: 1
      birthdate:
        type: string
        example: "1685-03-31"
      deathdate:
        type: string
        example: "1750-07-28"
      birthplace:
        type: string
        example: Eisenach
      deathplace:
        type: string
        example: Leipzig
      parents:
        type: array
        items:
          type: string
        example:
          - I0011
          - I0012
      families:
        type: array
        items:
          type: string
        example:
          - F0002
          - F0003
      events:
        type: array
        items:
          type: object
          properties:
            gramps_id:
              type: string
            role:
              type: string
        example:
          - gramps_id: E0001
            role: Primary
          - gramps_id: E0002
            role: Family
      media:
        type: array
        items:
          type: object
          properties:
            ref:
              type: string
            rect:
              type: array
              items:
                type: number
        example:
          - ref: abcdefghi
          - ref: jklmnopqr
            rect: [10, 20, 30, 40]
      citations:
        type: array
        items:
          type: string
        example:
          - C0001
          - C0002
      notes:
        type: array
        items:
          type: string
        example:
          - N0001
          - N0002
